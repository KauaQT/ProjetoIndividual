<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio do Bochelão</title>
    <link rel="stylesheet" href="css/estiloDesafio.css">
    <link rel="icon" href="assets/Logo.svg">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="//cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>

</head>

<body>
    <div class="container">
        <div class="nav_bar_lateral">
            <div class="logo">
                <img src="assets/Logo.svg">
            </div>
            <div class="topicos">
                <div>
                    <a href="sugestoes.html" class="hoverzin">
                        Sugestões
                    </a>
                </div>
                <div class="atual">
                    <a href="desafio.html">
                        Desafio
                    </a>
                </div>
                <div> <!-- class="atual" -->
                    <a href="ranking.html" class="hoverzin">
                        Ranking
                    </a>
                </div>
            </div>
            <div class="rodape_nav_bar_lateral">
                <a href="index.html" class="hoverzin">
                    Página inicial
                </a>
            </div>
        </div>

        <div class="conteudo_desafio">
            <div class="topo">
                <h2>Desafio</h2>
                <div class="containerCronometro">
                    <div class="timer">
                        <button id="startbtn">
                            <div class="tempo" id="minutes">00</div>
                            <div class="separator">:</div>
                            <div class="tempo" id="seconds">00</div>
                        </button>
                    </div>
                    <!-- <div class="buttons">
                <button class="btn" id="start">Iniciar</button>
            </div> -->
                </div>
            </div>
            <div class="pai_de_tudo">
                <div class="jogo_select">
                    <div class="coluna_caracteristicas">
                        <div><b>Características</b></div>
                        <div>Cor</div>
                        <div>Cantores</div>
                        <div>Bebida</div>
                        <div>Instrumento</div>
                        <div>Animal</div>
                    </div>
                    <div class="coluna_casa1">
                        <span class="titulo_casas">Casa 1</span>
                        <div>
                            <select id="casa1_selectCor">
                                <option value=""></option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Azul">Azul</option>
                                <option value="Branca">Branca</option>
                                <option value="Verde">Verde</option>
                                <option value="Vermelha">Vermelha</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa1_selectCantores">
                                <option value=""></option>
                                <option value="Andrea Bocelli">Andrea Bocelli</option>
                                <option value="Laura Pausini">Laura Pausini</option>
                                <option value="Luciano Pavarotti">Luciano Pavarotti</option>
                                <option value="Zucchero Fornaciari">Zucchero Fornaciari</option>
                                <option value="Andre Rieu">Andre Rieu</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa1_selectBebida">
                                <option value=""></option>
                                <option value="Água">Água</option>
                                <option value="Café">Café</option>
                                <option value="Chá">Chá</option>
                                <option value="Vinho">Vinho</option>
                                <option value="Leite">Leite</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa1_selectInstrumento">
                                <option value=""></option>
                                <option value="Piano">Piano</option>
                                <option value="Violino">Violino</option>
                                <option value="Harpa">Harpa</option>
                                <option value="Flauta">Flauta</option>
                                <option value="Trombone">Trombone</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa1_selectAnimal">
                                <option value=""></option>
                                <option value="Cachorros">Cachorros</option>
                                <option value="Cavalos">Cavalos</option>
                                <option value="Gatos">Gatos</option>
                                <option value="Pássaros">Pássaros</option>
                                <option value="Peixes">Peixes</option>
                            </select>
                        </div>
                    </div>
                    <div class="coluna_casa1">
                        <span class="titulo_casas">Casa 2</span>
                        <div>
                            <select id="casa2_selectCor">
                                <option value=""></option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Azul">Azul</option>
                                <option value="Branca">Branca</option>
                                <option value="Verde">Verde</option>
                                <option value="Vermelha">Vermelha</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa2_selectCantores">
                                <option value=""></option>
                                <option value="Andrea Bocelli">Andrea Bocelli</option>
                                <option value="Laura Pausini">Laura Pausini</option>
                                <option value="Luciano Pavarotti">Luciano Pavarotti</option>
                                <option value="Zucchero Fornaciari">Zucchero Fornaciari</option>
                                <option value="Andre Rieu">Andre Rieu</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa2_selectBebida">
                                <option value=""></option>
                                <option value="Água">Água</option>
                                <option value="Café">Café</option>
                                <option value="Chá">Chá</option>
                                <option value="Vinho">Vinho</option>
                                <option value="Leite">Leite</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa2_selectInstrumento">
                                <option value=""></option>
                                <option value="Piano">Piano</option>
                                <option value="Violino">Violino</option>
                                <option value="Harpa">Harpa</option>
                                <option value="Flauta">Flauta</option>
                                <option value="Trombone">Trombone</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa2_selectAnimal">
                                <option value=""></option>
                                <option value="Cachorros">Cachorros</option>
                                <option value="Cavalos">Cavalos</option>
                                <option value="Gatos">Gatos</option>
                                <option value="Pássaros">Pássaros</option>
                                <option value="Peixes">Peixes</option>
                            </select>
                        </div>
                    </div>
                    <div class="coluna_casa1">
                        <span class="titulo_casas">Casa 3</span>
                        <div>
                            <select id="casa3_selectCor">
                                <option value=""></option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Azul">Azul</option>
                                <option value="Branca">Branca</option>
                                <option value="Verde">Verde</option>
                                <option value="Vermelha">Vermelha</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa3_selectCantores">
                                <option value=""></option>
                                <option value="Andrea Bocelli">Andrea Bocelli</option>
                                <option value="Laura Pausini">Laura Pausini</option>
                                <option value="Luciano Pavarotti">Luciano Pavarotti</option>
                                <option value="Zucchero Fornaciari">Zucchero Fornaciari</option>
                                <option value="Andre Rieu">Andre Rieu</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa3_selectBebida">
                                <option value=""></option>
                                <option value="Água">Água</option>
                                <option value="Café">Café</option>
                                <option value="Chá">Chá</option>
                                <option value="Vinho">Vinho</option>
                                <option value="Leite">Leite</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa3_selectInstrumento">
                                <option value=""></option>
                                <option value="Piano">Piano</option>
                                <option value="Violino">Violino</option>
                                <option value="Harpa">Harpa</option>
                                <option value="Flauta">Flauta</option>
                                <option value="Trombone">Trombone</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa3_selectAnimal">
                                <option value=""></option>
                                <option value="Cachorros">Cachorros</option>
                                <option value="Cavalos">Cavalos</option>
                                <option value="Gatos">Gatos</option>
                                <option value="Pássaros">Pássaros</option>
                                <option value="Peixes">Peixes</option>
                            </select>
                        </div>
                    </div>
                    <div class="coluna_casa1">
                        <span class="titulo_casas">Casa 4</span>
                        <div>
                            <select id="casa4_selectCor">
                                <option value=""></option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Azul">Azul</option>
                                <option value="Branca">Branca</option>
                                <option value="Verde">Verde</option>
                                <option value="Vermelha">Vermelha</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa4_selectCantores">
                                <option value=""></option>
                                <option value="Andrea Bocelli">Andrea Bocelli</option>
                                <option value="Laura Pausini">Laura Pausini</option>
                                <option value="Luciano Pavarotti">Luciano Pavarotti</option>
                                <option value="Zucchero Fornaciari">Zucchero Fornaciari</option>
                                <option value="Andre Rieu">Andre Rieu</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa4_selectBebida">
                                <option value=""></option>
                                <option value="Água">Água</option>
                                <option value="Café">Café</option>
                                <option value="Chá">Chá</option>
                                <option value="Vinho">Vinho</option>
                                <option value="Leite">Leite</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa4_selectInstrumento">
                                <option value=""></option>
                                <option value="Piano">Piano</option>
                                <option value="Violino">Violino</option>
                                <option value="Harpa">Harpa</option>
                                <option value="Flauta">Flauta</option>
                                <option value="Trombone">Trombone</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa4_selectAnimal">
                                <option value=""></option>
                                <option value="Cachorros">Cachorros</option>
                                <option value="Cavalos">Cavalos</option>
                                <option value="Gatos">Gatos</option>
                                <option value="Pássaros">Pássaros</option>
                                <option value="Peixes">Peixes</option>
                            </select>
                        </div>
                    </div>
                    <div class="coluna_casa1">
                        <span class="titulo_casas">Casa 5</span>
                        <div>
                            <select id="casa5_selectCor">
                                <option value=""></option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Azul">Azul</option>
                                <option value="Branca">Branca</option>
                                <option value="Verde">Verde</option>
                                <option value="Vermelha">Vermelha</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa5_selectCantores">
                                <option value=""></option>
                                <option value="Andrea Bocelli">Andrea Bocelli</option>
                                <option value="Laura Pausini">Laura Pausini</option>
                                <option value="Luciano Pavarotti">Luciano Pavarotti</option>
                                <option value="Zucchero Fornaciari">Zucchero Fornaciari</option>
                                <option value="Andre Rieu">Andre Rieu</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa5_selectBebida">
                                <option value=""></option>
                                <option value="Água">Água</option>
                                <option value="Café">Café</option>
                                <option value="Chá">Chá</option>
                                <option value="Vinho">Vinho</option>
                                <option value="Leite">Leite</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa5_selectInstrumento">
                                <option value=""></option>
                                <option value="Piano">Piano</option>
                                <option value="Violino">Violino</option>
                                <option value="Harpa">Harpa</option>
                                <option value="Flauta">Flauta</option>
                                <option value="Trombone">Trombone</option>
                            </select>
                        </div>
                        <div>
                            <select id="casa5_selectAnimal">
                                <option value=""></option>
                                <option value="Cachorros">Cachorros</option>
                                <option value="Cavalos">Cavalos</option>
                                <option value="Gatos">Gatos</option>
                                <option value="Pássaros">Pássaros</option>
                                <option value="Peixes">Peixes</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="instrucoes_jogo_select">
                    <div class="lado_esquerdo_instrucoes">
                        <div>
                            O Luciano Pavarotti vive na casa vermelha
                        </div>
                        <div>
                            O Andre Rieu tem Cachorros como animais de estimação
                        </div>
                        <div>
                            A Laura Pausini bebe chá
                        </div>
                        <div>
                            A casa Verde fica do lado esquerdo da casa Branca
                        </div>
                        <div>
                            O homem que vive na casa Verde bebe café
                        </div>
                        <div>
                            Quem toca Flauta cria Passáros
                        </div>
                        <div>
                            O homem que vive na casa Amarela toca Harpa
                        </div>
                        <div>
                            O homem que vive na casa do meio bebe leite
                        </div>
                    </div>
                    <div class="lado_direito_instrucoes">
                        <div>
                            O Zucchero Fornaciari vive na primeira casa
                        </div>
                        <div>
                            O homem que toca Piano vive ao lado do que tem Gatos
                        </div>
                        <div>
                            O homem que cria Cavalos vive ao lado do que toca Harpa
                        </div>
                        <div>
                            O homem que toca Violino bebe Vinho
                        </div>
                        <div>
                            O Andrea Bocelli toca Trombone
                        </div>
                        <div>
                            O Zucchero Fornaciari vive ao lado da casa Azul
                        </div>
                        <div>
                            O homem que toca Piano é vizinho do que bebe Água
                        </div>
                    </div>
                </div>
            </div>
            <div class="estilizacaoBotao">
                <button onclick="validar()">Validar respostas</button>
            </div>
        </div>
    </div>

</body>

</html>

<script>

    // var auxiliar1Correto = ["Amarelo", "Zucchero Fornaciari", "Água", "Harpa", "Gatos"]
    // var auxiliar2Correto = ["Azul", "Laura Pausini", "Chá", "Piano", "Cavalos"]
    // var auxiliar3Correto = ["Vermelha", "Luciano Pavarotti", "Leite", "Flauta", "Passáros"]
    // var auxiliar4Correto = ["Verde", "Andrea Bocelli", "Café", "Trombone", "Peixes"]
    // var auxiliar5Correto = ["Branco", "Andre Rieu", "Vinho", "Violino", "Cachorros"]

    Swal.fire({
        imageUrl: 'assets/Swit instruções.jpg',
        imageWidth: 500,
        imageHeight: 300,
        title: 'Instruções para o desafio!',
        html: 'O jogo consiste numa adaptação do teste de Einstein <br><br> 1. Dada as instruções na parte inferior da tela, parametrize-as de acordo com as correspondentes casas<br> 2. Ao fim, será computado suas repostas corretas, erradas e o tempo em que levou para as responderem e que serão enviadas a um ranking',
        confirmButtonText: 'Começar desafio!',
        background: '#000',
        color: '#FFF',
    })

    function validar() {

        var idUsuarioVar = Number(sessionStorage.ID_USUARIO);
        console.log(sessionStorage.ID_USUARIO)
        var nome = sessionStorage.NOME_USUARIO;


        var corretas = 0;
        var erradas = 0;
        var message = ``
        var imagem = ``

        var select = document.getElementById('casa1_selectCor');
        var valor = select.options[select.selectedIndex].value;
        console.log(valor);

        if (valor == "Amarelo") {
            corretas++
        } else {
            erradas++
        }

        var select2 = document.getElementById('casa1_selectCantores');
        var valor2 = select2.options[select2.selectedIndex].value;

        if (valor2 == "Zucchero Fornaciari") {
            corretas++
        } else {
            erradas++
        }

        var select3 = document.getElementById('casa1_selectBebida');
        var valor3 = select3.options[select3.selectedIndex].value;

        if (valor3 == "Água") {
            corretas++
        } else {
            erradas++
        }

        var select4 = document.getElementById('casa1_selectInstrumento');
        var valor4 = select4.options[select4.selectedIndex].value;

        if (valor4 == "Harpa") {
            corretas++
        } else {
            erradas++
        }

        var select5 = document.getElementById('casa1_selectAnimal');
        var valor5 = select5.options[select5.selectedIndex].value;

        if (valor5 == "Gatos") {
            corretas++
        } else {
            erradas++
        }

        /* segunda coluna okkkkkkkkkkkkkkkkkkkkkkkkkkk*/

        var select6 = document.getElementById('casa2_selectCor');
        var valor6 = select6.options[select6.selectedIndex].value;

        if (valor6 == "Azul") {
            corretas++
        } else {
            erradas++
        }

        var select7 = document.getElementById('casa2_selectCantores');
        var valor7 = select7.options[select7.selectedIndex].value;

        if (valor7 == "Laura Pausini") {
            corretas++
        } else {
            erradas++
        }

        var select8 = document.getElementById('casa2_selectBebida');
        var valor8 = select8.options[select8.selectedIndex].value;

        if (valor8 == "Chá") {
            corretas++
        } else {
            erradas++
        }

        var select9 = document.getElementById('casa2_selectInstrumento');
        var valor9 = select9.options[select9.selectedIndex].value;

        if (valor9 == "Piano") {
            corretas++
        } else {
            erradas++
        }

        var select10 = document.getElementById('casa2_selectAnimal');
        var valor10 = select10.options[select10.selectedIndex].value;

        if (valor10 == "Cavalos") {
            corretas++
        } else {
            erradas++
        }

        /* Terceira coluna */

        var select11 = document.getElementById('casa3_selectCor');
        var valor11 = select11.options[select11.selectedIndex].value;

        if (valor11 == "Vermelha") {
            corretas++
        } else {
            erradas++
        }

        var select12 = document.getElementById('casa3_selectCantores');
        var valor12 = select12.options[select12.selectedIndex].value;

        if (valor12 == "Luciano Pavarotti") {
            corretas++
        } else {
            erradas++
        }

        var select13 = document.getElementById('casa3_selectBebida');
        var valor13 = select13.options[select13.selectedIndex].value;

        if (valor13 == "Leite") {
            corretas++
        } else {
            erradas++
        }

        var select14 = document.getElementById('casa3_selectInstrumento');
        var valor14 = select14.options[select14.selectedIndex].value;

        if (valor14 == "Flauta") {
            corretas++
        } else {
            erradas++
        }

        var select15 = document.getElementById('casa3_selectAnimal');
        var valor15 = select15.options[select15.selectedIndex].value;

        if (valor15 == "Pássaros") {
            corretas++
        } else {
            erradas++
        }

        var select16 = document.getElementById('casa4_selectCor');
        var valor16 = select16.options[select16.selectedIndex].value;

        if (valor16 == "Verde") {
            corretas++
        } else {
            erradas++
        }

        var select17 = document.getElementById('casa4_selectCantores');
        var valor17 = select17.options[select17.selectedIndex].value;

        if (valor17 == "Andrea Bocelli") {
            corretas++
        } else {
            erradas++
        }

        var select18 = document.getElementById('casa4_selectBebida');
        var valor18 = select18.options[select18.selectedIndex].value;

        if (valor18 == "Café") {
            corretas++
        } else {
            erradas++
        }

        var select19 = document.getElementById('casa4_selectInstrumento');
        var valor19 = select19.options[select19.selectedIndex].value;

        if (valor19 == "Trombone") {
            corretas++
        } else {
            erradas++
        }

        var select20 = document.getElementById('casa4_selectAnimal')
        var valor20 = select20.options[select20.selectedIndex].value;

        if (valor20 == "Peixes") {
            corretas++
        } else {
            erradas++
        }

        var select21 = document.getElementById('casa5_selectCor');
        var valor21 = select21.options[select21.selectedIndex].value;

        if (valor21 == "Branca") {
            corretas++
        } else {
            erradas++
        }

        var select22 = document.getElementById('casa5_selectCantores');
        var valor22 = select22.options[select22.selectedIndex].value;

        if (valor22 == "Andre Rieu") {
            corretas++
        } else {
            erradas++
        }

        var select23 = document.getElementById('casa5_selectBebida');
        var valor23 = select23.options[select23.selectedIndex].value;

        if (valor23 == "Vinho") {
            corretas++
        } else {
            erradas++
        }

        var select24 = document.getElementById('casa5_selectInstrumento');
        var valor24 = select24.options[select24.selectedIndex].value;

        if (valor24 == "Violino") {
            corretas++
        } else {
            erradas++
        }

        var select25 = document.getElementById('casa5_selectAnimal');
        var valor25 = select25.options[select25.selectedIndex].value;

        if (valor25 == "Cachorros") {
            corretas++
        } else {
            erradas++
        }

        if (corretas == 0 && corretas <= 10) {
            image = 'assets/gif_cérebro_dormindo.gif',
                message = `${nome}, Você acertou ${corretas}, não foi o melhor resultado, mas se sentiu desafiado? Procure saber mais sobre o jogo original.</b> Sua pontuação foi de
                            <b>${corretas}</b> pontos
                        </span>`;
        }  

        if (corretas >= 11 && corretas <= 15) {
            image = 'assets/gif_11_15.gif',
                message = ` ${nome}, Senti que ficou um pouco confuso com o desafio, mas tudo bem, você está na média, você acertou 
                            <b>${corretas}</b>
                        </span>`;
        }

        if (corretas >= 16 && corretas <= 19 ) {
            image = 'assets/gif_16_19.jpg',
                message = ` ${nome}, Quase entrou para o grupo dos destemidos em... você acertou 
                            <b>${corretas}</b>
                        </span>`;
        }

        if (corretas >= 20 && corretas <= 24) {
            image = 'assets/gif_20_24.gif',
                message = ` ${nome}, Faltou pouco para acertas todas, pena que não é possível realizar o desafio de novo, você acertou   
                            <b>${corretas}</b>
                        </span>`;
        }

        if (corretas == 25) {
            image = 'assets/gif_25_corretas.gif',
                message = ` ${nome}, Aí sim em, gostei de ver, acertou todas as instruções. TMJ  
                            <b>${corretas}</b> corretas
                        </span>`;
        }

        fetch("/usuarios/pontuacao", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.j
                idUsuarioServer: idUsuarioVar,
                acertosServer: corretas,
                errosServer: erradas
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                Swal.fire({
                    imageUrl: 'assets/imagens_albuns/ROMANZA_ALBUM.jpg',
                    imageWidth: 500,
                    imageHeight: 300,
                    html: 'qpkc´pqkc´pc´pewk´pkp - 1ADS A',
                    confirmButtonText: 'Começar desafio!',
                    background: '#000',
                    color: '#FFF',
                    html: message,
                    imageUrl: image,
                }).then((result) => {
                    setTimeout(function () {
                        window.location = "ranking.html";
                    }, 1000);
                })
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });

    }
</script>